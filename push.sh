#!/bin/bash
# Скрипт для пуша всех текущих изменений в ветку main

# Проверяем, передал ли пользователь сообщение
if [ -z "$1" ]; then
  COMMIT_MSG="Автоматический коммит: $(date '+%Y-%m-%d %H:%M:%S')"
else
  COMMIT_MSG="$1"
fi

# Переключаемся на main (если не на ней)
git checkout main

# Добавляем все изменения
git add -A

# Делаем коммит с сообщением (или авто, если пользователь ничего не задал)
git commit -m "$COMMIT_MSG" || echo "Нет изменений для коммита"

# Пушим в GitHub
git push origin main
