# Docker Volumes Справочник

## Создание тома

```bash
docker volume create my_volume
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| docker volume | Docker Volume | Основная команда для управления томами |
| create | Docker Volume | Подкоманда для создания нового ресурса |
| my_volume | Docker Volume | Имя создаваемого тома |

---

## Запуск контейнера с подключенным томом

```bash
docker run -d --name test_container -v my_volume:/data alpine tail -f /dev/null
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| docker run | Docker | Основная команда для запуска контейнера |
| -d | Флаг | Запуск контейнера в фоновом режиме |
| --name test_container | Аргумент | Имя контейнера (test_container) |
| -v my_volume:/data | Аргумент | Монтирование тома (my_volume) в /data внутри контейнера |
| alpine | Образ | Имя образа для запуска контейнера |
| tail -f /dev/null | Команда | Поддерживает работу контейнера в активном состоянии |

---

## Запись данных в том через контейнер

```bash
docker exec test_container sh -c "echo 'test data' > /data/test_file"
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| docker exec | Docker | Выполнение команды внутри работающего контейнера |
| test_container | Аргумент | Имя контейнера для выполнения команды |
| sh -c | Shell | Запуск shell с флагом -c для выполнения строки |
| "echo 'test data' > /data/test_file" | Команда | Создание файла `test_file` с содержимым `test data` |

---

## Остановка и удаление контейнера

```bash
docker stop test_container && docker rm test_container
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| docker stop | Docker | Остановка работающего контейнера |
| test_container | Аргумент | Имя контейнера для остановки |
| && | Bash | Оператор, выполняющий следующую команду при успешном завершении предыдущей |
| docker rm | Docker | Удаление остановленного контейнера |

---

## Проверка данных в томе

```bash
docker run --rm -v my_volume:/data alpine cat /data/test_file
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| docker run | Docker | Запуск контейнера |
| --rm | Флаг | Автоматическое удаление контейнера после остановки |
| -v my_volume:/data | Аргумент | Монтирование тома в /data внутри контейнера |
| alpine | Образ | Имя образа |
| cat /data/test_file | Команда | Чтение содержимого файла `test_file` из тома |

---

## Команды и аргументы для работы с томами

### Создание нового тома

```bash
docker volume create [OPTIONS] [VOLUME]
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| create | Docker Volume | Подкоманда для создания тома |
| --driver, -d | Флаг | Указывает драйвер тома (по умолчанию `local`) |
| --label | Флаг | Устанавливает метаданные для тома |
| VOLUME | Аргумент | Имя тома (если не указано — генерируется случайно) |

---

### Просмотр информации о томе

```bash
docker volume inspect [OPTIONS] VOLUME [VOLUME...]
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| inspect | Docker Volume | Подкоманда для просмотра деталей тома |
| --format, -f | Флаг | Форматирование вывода с помощью Go-шаблона |
| VOLUME | Аргумент | Имя или ID тома (можно указать несколько) |

---

### Список всех томов

```bash
docker volume ls [OPTIONS]
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| ls | Docker Volume | Подкоманда для отображения списка томов |
| --filter, -f | Флаг | Фильтрация по условиям (например, `dangling=true`) |
| --format | Флаг | Форматирование вывода |
| --quiet, -q | Флаг | Вывод только ID томов |

---

### Удаление неиспользуемых томов

```bash
docker volume prune [OPTIONS]
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| prune | Docker Volume | Подкоманда для удаления неиспользуемых ресурсов |
| --force, -f | Флаг | Пропускает запрос подтверждения |

---

### Удаление тома(ов)

```bash
docker volume rm [OPTIONS] VOLUME [VOLUME...]
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| rm | Docker Volume | Подкоманда для удаления |
| --force, -f | Флаг | Принудительное удаление (например, если том используется) |
| VOLUME | Аргумент | Имя или ID тома для удаления |

