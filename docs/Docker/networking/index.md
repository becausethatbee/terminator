# Docker Networks Справочник

## Создание пользовательской сети

```bash
docker network create my_network
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| docker network | Docker Network | Основная команда для управления сетями |
| create | Docker Network | Подкоманда для создания нового ресурса |
| my_network | Аргумент | Имя создаваемой сети (по умолчанию тип — `bridge`) |

---

## Запуск контейнера в пользовательской сети

```bash
docker run -d --name container1 --network my_network alpine tail -f /dev/null
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| docker run | Docker | Основная команда для запуска контейнера |
| -d | Флаг | Запуск в фоновом режиме |
| --name container1 | Аргумент | Имя контейнера (container1) |
| --network my_network | Аргумент | Указывает сеть, в которой будет работать контейнер |
| alpine | Образ | Используемый образ |
| tail -f /dev/null | Команда | Поддерживает контейнер в активном состоянии |

---

## Запуск второго контейнера в той же сети

```bash
docker run -d --name container2 --network my_network alpine tail -f /dev/null
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| --name container2 | Аргумент | Имя контейнера (container2) |
| --network my_network | Аргумент | Подключение контейнера к сети `my_network` |

---

## Проверка сетевого взаимодействия

```bash
docker exec container1 ping -c 2 container2
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| docker exec | Docker | Выполнение команды внутри работающего контейнера |
| container1 | Аргумент | Контейнер, внутри которого выполняется команда |
| ping | Сетевая команда | Проверка сетевой связности |
| -c 2 | Флаг | Отправка только 2 пакетов |
| container2 | Аргумент | DNS-имя второго контейнера (резолвится через пользовательскую сеть) |

---

## Команды и аргументы для работы с сетями

### Создание новой сети

```bash
docker network create [OPTIONS] NETWORK
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| create | Docker Network | Подкоманда для создания сети |
| --driver, -d | Флаг | Выбор драйвера (`bridge`, `overlay`, `macvlan`) |
| --subnet | Флаг | Указывает подсеть в формате CIDR (например, `192.168.1.0/24`) |
| --gateway | Флаг | Задает IPv4/IPv6 шлюз для подсети |
| NETWORK | Аргумент | Имя создаваемой сети |

---

### Подключение контейнера к сети

```bash
docker network connect [OPTIONS] NETWORK CONTAINER
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| connect | Docker Network | Подкоманда для подключения контейнера |
| --alias | Флаг | Добавляет DNS-алиас для контейнера |
| --ip | Флаг | Назначает статический IPv4-адрес |
| NETWORK | Аргумент | Имя сети |
| CONTAINER | Аргумент | Имя или ID контейнера |

---

### Отключение контейнера от сети

```bash
docker network disconnect [OPTIONS] NETWORK CONTAINER
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| disconnect | Docker Network | Подкоманда для отключения контейнера |
| --force, -f | Флаг | Принудительное отключение |
| NETWORK | Аргумент | Имя сети |
| CONTAINER | Аргумент | Имя или ID контейнера |

---

### Просмотр информации о сети

```bash
docker network inspect [OPTIONS] NETWORK [NETWORK...]
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| inspect | Docker Network | Подкоманда для просмотра деталей |
| --format, -f | Флаг | Форматирование вывода |
| NETWORK | Аргумент | Имя или ID сети (можно несколько) |

---

### Список всех сетей

```bash
docker network ls [OPTIONS]
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| ls | Docker Network | Подкоманда для отображения списка сетей |
| --filter, -f | Флаг | Фильтрация (например, `driver=bridge`) |
| --format | Флаг | Форматирование вывода |
| --quiet, -q | Флаг | Вывод только ID сетей |

---

### Удаление неиспользуемых сетей

```bash
docker network prune [OPTIONS]
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| prune | Docker Network | Подкоманда для удаления неиспользуемых сетей |
| --force, -f | Флаг | Пропускает запрос подтверждения |

---

### Удаление сети(ей)

```bash
docker network rm NETWORK [NETWORK...]
```

| Команда / Инструкция | Категория | Описание |
|----------------------|-----------|----------|
| rm | Docker Network | Подкоманда для удаления |
| NETWORK | Аргумент | Имя или ID сети для удаления |

