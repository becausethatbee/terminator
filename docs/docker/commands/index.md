# Работа с Docker и контейнером Nginx

## 1. Запуск образа Nginx в фоновом режиме
Создание и запуск контейнера из образа `nginx` с фоновым выполнением.

```bash
docker run -d --name nginx-container nginx
```

| Параметр | Описание |
|----------|----------|
| `run` | Создание и запуск контейнера |
| `-d` | Запуск в фоновом режиме (detached) |
| `--name nginx-container` | Присвоение имени контейнеру |
| `nginx` | Официальный образ из Docker Hub |

!!! tip "Совет"
    Рекомендуется всегда присваивать понятное имя контейнеру, чтобы проще управлять несколькими контейнерами.

---

## 2. Проверка списка запущенных контейнеров

```bash
docker ps
```

| Параметр | Описание |
|----------|----------|
| `ps` | Вывод списка работающих контейнеров |
| `-a` | Показ всех контейнеров, включая остановленные |

---

## 3. Остановка контейнера

```bash
docker stop nginx-container
```

| Параметр | Описание |
|----------|----------|
| `stop` | Корректная остановка контейнера (SIGTERM) |
| `nginx-container` | Имя контейнера для остановки |

---

## 4. Перезапуск контейнера

```bash
docker start nginx-container
```

| Параметр | Описание |
|----------|----------|
| `start` | Запуск существующего контейнера |
| `nginx-container` | Имя контейнера |

---

## 5. Подключение к контейнеру

```bash
docker exec -it nginx-container /bin/bash
```

| Параметр | Описание |
|----------|----------|
| `exec` | Выполнение команды в работающем контейнере |
| `-it` | Интерактивный режим с псевдо-TTY |
| `/bin/bash` | Запуск оболочки Bash (для Alpine: `/bin/sh`) |

---

## 6. Удаление контейнера

```bash
docker rm -f nginx-container
```

| Параметр | Описание |
|----------|----------|
| `rm` | Удаление контейнера |
| `-f` | Принудительное удаление даже запущенного контейнера |

---

## 7. Просмотр локальных образов

```bash
docker images
```

| Параметр | Описание |
|----------|----------|
| `images` | Показ всех локальных образов |
| `docker images nginx` | Показ только образов Nginx |

---

## 8. Удаление локального образа

```bash
docker rmi nginx
```

| Параметр | Описание |
|----------|----------|
| `rmi` | Удаление образа (remove image) |
| `nginx` | Имя образа или его ID |

---

# Стандартные команды внутри контейнера Nginx
(Образ основан на Debian/Alpine)

## 9. Проверка статуса Nginx

```bash
nginx -t
```

!!! note
    Проверка корректности синтаксиса конфигурационных файлов.

---

## 10. Просмотр версии Nginx

```bash
nginx -v
```
- Краткая информация о версии.

```bash
nginx -V
```
- Подробная информация о версии и параметрах компиляции.

---

## 11. Управление демоном (Debian-образы)

```bash
service nginx status
```
- Проверка статуса службы.

```bash
service nginx reload
```
- Перезагрузка конфигурации без остановки сервера.

---

## 12. Просмотр логов

```bash
tail -f /var/log/nginx/access.log
```
- Логи доступа в реальном времени.

```bash
tail -f /var/log/nginx/error.log
```
- Логи ошибок в реальном времени.

---

## 13. Поиск конфигурационных файлов

```bash
find /etc/nginx -name "*.conf"
```
- Поиск всех конфигурационных файлов.

```bash
cat /etc/nginx/nginx.conf
```
- Просмотр основного конфигурационного файла.

---

## 14. Сетевые соединения

```bash
netstat -tulpn
```
- Просмотр прослушиваемых портов (требует `net-tools`).

```bash
ss -tulpn
```
- Современная альтернатива `netstat`.

---

## 15. Информация о процессе

```bash
ps aux
```
- Просмотр всех процессов.

```bash
ps aux | grep nginx
```
- Фильтрация процессов Nginx.

---

## 16. Проверка конфигурации (альтернатива)

```bash
/etc/init.d/nginx configtest
```
- Альтернативный способ проверки конфигурации.

---

## 17. Дополнительные полезные команды

```bash
hostname -i
```
- IP-адрес контейнера.

```bash
curl -I http://localhost
```
- Проверка, что Nginx отвечает (HTTP-заголовки).

```bash
ls -lh /etc/nginx/sites-enabled/
```
- Просмотр подключённых виртуальных хостов.

```bash
df -h
```
- Проверка доступного дискового пространства.
