# Bash операндов и операторов

## Перенаправление потоков

| Оператор | Действие |
|----------|----------|
| `>` | Перезапись файла |
| `>>` | Append - добавить в конец |
| `<` | Input - читать из файла |
| `2>` | Redirect stderr |
| `2>&1` | stderr в stdout |
| `&>` | stdout + stderr вместе |

## Pipes (конвеер)

| Оператор | Действие |
|----------|----------|
| `\|` | Pipe - вывод в вход |
| `\|\|` | OR логический - выполни если предыдущая ошибка |
| `&&` | AND логический - выполни если предыдущая успешна |

## Фоновые процессы

| Оператор | Действие |
|----------|----------|
| `&` | Запусти в фоне |
| `jobs` | Список фоновых процессов |
| `fg` | Вернуть в foreground |
| `bg` | Отправить в фон |

## Подстановка команд

| Оператор | Действие |
|----------|----------|
| `$(cmd)` | Выполнить команду и подставить результат (новый синтаксис) |
| `` `cmd` `` | Выполнить команду (старый синтаксис) |

## Примеры

### Перенаправления
```bash
# Вывод в файл
ls > listing.txt

# Добавить в файл
echo "new line" >> listing.txt

# Ошибки в файл
command 2> errors.log

# Всё вместе
command > output.log 2>&1

# Читать из файла
sort < unsorted.txt
```

### Pipes
```bash
# Pipe - цепочка команд
cat file.txt | grep pattern | sort | uniq

# AND - выполни если успешно
cd /tmp && ls

# OR - выполни если ошибка
cd /tmp || echo "Failed to cd"

# Комбо
cd /tmp && touch file.txt || echo "Error"
```

### Фон
```bash
# Запусти в фоне
./long-process.sh &

# Список фоновых
jobs

# Вернуть в foreground
fg %1
```

### Подстановка
```bash
# Новый синтаксис (рекомендуется)
files=$(ls *.txt)
echo "Found: $files"

# Старый синтаксис
files=`ls *.txt`
```

## Glob patterns (маски)

| Паттерн | Значение |
|---------|----------|
| `*` | Любое кол-во символов |
| `?` | Один символ |
| `[abc]` | Один из символов a, b или c |
| `[a-z]` | Диапазон от a до z |
| `{a,b,c}` | a или b или c |
```bash
# Примеры
ls *.txt          # Все txt файлы
ls file?.txt      # file1.txt, fileA.txt, etc
ls [0-9]*.log     # Файлы начинающиеся с цифры
ls {a,b,c}.txt    # a.txt, b.txt, c.txt
```

## Условные операторы

| Оператор | Действие |
|----------|----------|
| `-eq` | Равно (числа) |
| `-ne` | Не равно (числа) |
| `-lt` | Меньше |
| `-gt` | Больше |
| `-f` | Файл существует |
| `-d` | Директория существует |
| `-z` | Строка пуста |
| `-n` | Строка не пуста |
| `=` | Равно (строки) |
| `!=` | Не равно (строки) |
```bash
# Примеры
if [ -f file.txt ]; then echo "File exists"; fi
if [ $x -eq 5 ]; then echo "Equal 5"; fi
if [ -d /tmp ]; then echo "Dir exists"; fi
```

## Особые переменные

| Переменная | Значение |
|------------|----------|
| `$0` | Имя скрипта |
| `$1, $2, ...` | Аргументы скрипта |
| `$@` | Все аргументы |
| `$#` | Количество аргументов |
| `$?` | Exit код последней команды |
| `$$` | PID текущего процесса |
| `$!` | PID последнего фонового процесса |
```bash
# Примеры
./script.sh arg1 arg2
# $0 = ./script.sh
# $1 = arg1
# $2 = arg2
# $# = 2
```
